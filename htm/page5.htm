<div id="page_5">
  <br>
  <div>
    <button style="position: absolute;display: inline-block;" id='editJournal' class="btn btn-secondary adroite" onclick="editS()" type="button">Editer le journal</button>
    <div style="position: absolute;" class="adroite">
      <div class="container">
        <div class="row">
          <div class="col">
            <button id='annulJournal' class="btn btn-danger" style="display: none;" onclick="saveS()" type="button" title="Annuler les modifications">Annuler</button>
          </div>
          <div class="col">
            <button id='saveJournal' class="btn btn-success" style="display: none;" onclick="saveS()" type="button" title='Sauvegarder les modifications'>Valider</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br><br>
  <div id="Journal_aff" class="click2edit">Ceci est votre journal...</div>
</div>
<script>
if(JSON_FICHE.Journal != undefined){
	$('#Journal_aff').html(JSON_FICHE.Journal);
}else{
	$('#Journal_aff').html("Ceci est votre journal, "+joueur+", vous pouvez y Ã©crire ce que vous voulez.");
}

var backup = ""
function editS() {
	backup = $("#Journal_aff").html();
  $('.click2edit').summernote({focus: true});
  document.getElementById('editJournal').style.display = "none";
  document.getElementById('saveJournal').style.display = "block";
  document.getElementById('annulJournal').style.display = "block";
};

function saveS() {
  var markup = $('.click2edit').summernote('code');
  $('.click2edit').summernote('destroy');
  document.getElementById('editJournal').style.display = "block";
  document.getElementById('saveJournal').style.display = "none";
  document.getElementById('annulJournal').style.display = "none";
  $(".toast").toast('show');
};
$("#saveJournal").on( "click", function() {
	JSON_FICHE.Journal = $("#Journal_aff").html();
});
$("#annulJournal").on( "click", function() {
	$("#Journal_aff").html(backup);
});
</script>